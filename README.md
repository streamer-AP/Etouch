# ğŸ® æ™ºèƒ½è®¾å¤‡æ§åˆ¶ç³»ç»Ÿ (Smart Device Control System)

<div align="center">

![Version](https://img.shields.io/badge/version-2.0.0-blue.svg)
![Platform](https://img.shields.io/badge/platform-iOS%20%7C%20Android-green.svg)
![License](https://img.shields.io/badge/license-MIT-orange.svg)
![Node](https://img.shields.io/badge/node-%3E%3D16.0.0-brightgreen.svg)
![React Native](https://img.shields.io/badge/React%20Native-0.72.6-61DAFB.svg)
![NestJS](https://img.shields.io/badge/NestJS-10.0.0-E0234E.svg)

**ä¸€ä¸ªåŸºäºReact Nativeå’ŒNestJSçš„æ™ºèƒ½ç¡¬ä»¶æ§åˆ¶å¹³å°**

[åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) â€¢ [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [ç³»ç»Ÿæ¶æ„](#-ç³»ç»Ÿæ¶æ„) â€¢ [å¼€å‘æ–‡æ¡£](#-å¼€å‘æ–‡æ¡£) â€¢ [éƒ¨ç½²æŒ‡å—](#-éƒ¨ç½²æŒ‡å—)

</div>

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

æ™ºèƒ½è®¾å¤‡æ§åˆ¶ç³»ç»Ÿæ˜¯ä¸€ä¸ªåˆ›æ–°çš„ç§»åŠ¨åº”ç”¨å¹³å°ï¼Œé€šè¿‡è“ç‰™BLEæŠ€æœ¯è¿æ¥å’Œæ§åˆ¶æ™ºèƒ½ç¡¬ä»¶è®¾å¤‡ï¼Œç»“åˆè™šæ‹Ÿè§’è‰²äº’åŠ¨ã€éŸ³é¢‘åˆ†æå’Œå‰§æƒ…ä½“éªŒï¼Œä¸ºç”¨æˆ·æä¾›æ²‰æµ¸å¼çš„äº¤äº’ä½“éªŒã€‚

### ğŸ¯ æ ¸å¿ƒç‰¹ç‚¹

- **ğŸ”— æ™ºèƒ½è¿æ¥** - å¿«é€Ÿæ‰«æå’Œè¿æ¥BLEè®¾å¤‡ï¼Œç¨³å®šå¯é çš„é€šä¿¡
- **ğŸ‘¤ è™šæ‹Ÿäº’åŠ¨** - Live2Dè§’è‰²ç³»ç»Ÿï¼Œä¸°å¯Œçš„äº¤äº’ä½“éªŒ
- **ğŸµ éŸ³é¢‘è”åŠ¨** - å®æ—¶éŸ³é¢‘åˆ†æï¼Œæ™ºèƒ½éœ‡åŠ¨åé¦ˆ
- **ğŸ“– å‰§æƒ…ä½“éªŒ** - äº¤äº’å¼å‰§æƒ…ç³»ç»Ÿï¼Œä¸ªæ€§åŒ–å†…å®¹
- **â˜ï¸ äº‘ç«¯åŒæ­¥** - æ•°æ®äº‘ç«¯å¤‡ä»½ï¼Œå¤šè®¾å¤‡åŒæ­¥
- **ğŸ” å®‰å…¨å¯é ** - ç«¯åˆ°ç«¯åŠ å¯†ï¼Œéšç§ä¿æŠ¤

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ç§»åŠ¨ç«¯åŠŸèƒ½
- âœ… è·¨å¹³å°æ”¯æŒ (iOS/Android)
- âœ… è“ç‰™è®¾å¤‡æ‰«æä¸è¿æ¥
- âœ… å®æ—¶è®¾å¤‡çŠ¶æ€ç›‘æ§
- âœ… åŒé€šé“ç‹¬ç«‹æ§åˆ¶
- âœ… é¢„è®¾æ¨¡å¼å’Œè‡ªå®šä¹‰æ¨¡å¼
- âœ… éŸ³é¢‘æ–‡ä»¶å¯¼å…¥ä¸è§£æ
- âœ… å®æ—¶éŸ³é¢‘æ•æ‰
- âœ… Live2Dè§’è‰²å±•ç¤º
- âœ… äº¤äº’å¼å‰§æƒ…ç³»ç»Ÿ
- âœ… ç”¨æˆ·è´¦æˆ·ç®¡ç†
- âœ… æ·±è‰²/æµ…è‰²ä¸»é¢˜åˆ‡æ¢

### åç«¯åŠŸèƒ½
- âœ… å¾®æœåŠ¡æ¶æ„
- âœ… RESTful API
- âœ… WebSocketå®æ—¶é€šä¿¡
- âœ… JWTè®¤è¯æˆæƒ
- âœ… OAuthç¤¾äº¤ç™»å½•
- âœ… æ•°æ®ç¼“å­˜ä¼˜åŒ–
- âœ… æ¶ˆæ¯é˜Ÿåˆ—å¤„ç†
- âœ… æ–‡ä»¶å­˜å‚¨æœåŠ¡
- âœ… APIæ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆ
- âœ… ç›‘æ§å’Œæ—¥å¿—ç³»ç»Ÿ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 16.0.0
- npm >= 8.0.0
- React Nativeå¼€å‘ç¯å¢ƒ
- Docker & Docker Compose
- iOS: Xcode 14+ (ä»…Mac)
- Android: Android Studio

### å®‰è£…æ­¥éª¤

#### 1ï¸âƒ£ å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/your-org/smart-device-control.git
cd smart-device-control
```

#### 2ï¸âƒ£ å®‰è£…å‰ç«¯ä¾èµ–
```bash
# å®‰è£…ä¾èµ–
npm install

# iOSé¢å¤–æ­¥éª¤
cd ios && pod install && cd ..
```

#### 3ï¸âƒ£ é…ç½®åç«¯ç¯å¢ƒ
```bash
cd backend

# å®‰è£…ä¾èµ–
npm install

# å¤åˆ¶ç¯å¢ƒé…ç½®
cp .env.example .env

# å¯åŠ¨DockeræœåŠ¡
docker-compose up -d
```

#### 4ï¸âƒ£ è¿è¡Œé¡¹ç›®

**å‰ç«¯è¿è¡Œ**
```bash
# å¯åŠ¨Metro
npm start

# è¿è¡ŒiOS
npm run ios

# è¿è¡ŒAndroid
npm run android
```

**åç«¯è¿è¡Œ**
```bash
cd backend

# å¼€å‘æ¨¡å¼
npm run start:dev

# ç”Ÿäº§æ¨¡å¼
npm run start:prod
```

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            å®¢æˆ·ç«¯åº”ç”¨å±‚                    â”‚
â”‚   iOS App  â”‚  Android App  â”‚  Web Admin  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             APIç½‘å…³å±‚                     â”‚
â”‚     è®¤è¯ â”‚ è·¯ç”± â”‚ é™æµ â”‚ è´Ÿè½½å‡è¡¡         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            å¾®æœåŠ¡å±‚                        â”‚
â”‚  Auth â”‚ User â”‚ Device â”‚ Content â”‚ Audio  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            æ•°æ®å­˜å‚¨å±‚                      â”‚
â”‚  MySQL â”‚ MongoDB â”‚ Redis â”‚ MinIO         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯ | è¯´æ˜ |
|------|------|------|
| **å‰ç«¯** | React Native | è·¨å¹³å°ç§»åŠ¨åº”ç”¨æ¡†æ¶ |
| **çŠ¶æ€ç®¡ç†** | Redux Toolkit | åº”ç”¨çŠ¶æ€ç®¡ç† |
| **UIæ¡†æ¶** | React Native Paper | Material Designç»„ä»¶åº“ |
| **å¯¼èˆª** | React Navigation | è·¯ç”±å’Œå¯¼èˆªç®¡ç† |
| **åç«¯** | NestJS | ä¼ä¸šçº§Node.jsæ¡†æ¶ |
| **API** | REST + GraphQL | APIè®¾è®¡è§„èŒƒ |
| **å®æ—¶é€šä¿¡** | Socket.io | WebSocketå®æ—¶é€šä¿¡ |
| **æ•°æ®åº“** | MySQL + MongoDB | æ··åˆæ•°æ®å­˜å‚¨ |
| **ç¼“å­˜** | Redis | é«˜æ€§èƒ½ç¼“å­˜ |
| **æ¶ˆæ¯é˜Ÿåˆ—** | RabbitMQ | å¼‚æ­¥æ¶ˆæ¯å¤„ç† |
| **æ–‡ä»¶å­˜å‚¨** | MinIO | S3å…¼å®¹å¯¹è±¡å­˜å‚¨ |
| **å®¹å™¨åŒ–** | Docker | å®¹å™¨åŒ–éƒ¨ç½² |
| **ç›‘æ§** | Prometheus + Grafana | ç³»ç»Ÿç›‘æ§ |

## ğŸ“š é¡¹ç›®æ–‡æ¡£

### å¼€å‘æ–‡æ¡£
- [å¼€å‘æŒ‡å—](./DEVELOPMENT.md) - è¯¦ç»†çš„å¼€å‘æ–‡æ¡£
- [APIæ–‡æ¡£](http://localhost:3000/api/docs) - Swagger APIæ–‡æ¡£
- [è®¾è®¡æ–‡æ¡£](./docs/README.md) - äº§å“è®¾è®¡æ–‡æ¡£

### é¡¹ç›®ç»“æ„
```
etouch/
â”œâ”€â”€ src/                    # React Nativeå‰ç«¯æºç 
â”‚   â”œâ”€â”€ components/        # å¯å¤ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ screens/          # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ navigation/       # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ services/         # ä¸šåŠ¡æœåŠ¡
â”‚   â”œâ”€â”€ store/           # ReduxçŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ utils/           # å·¥å…·å‡½æ•°
â”œâ”€â”€ backend/               # NestJSåç«¯æºç 
â”‚   â”œâ”€â”€ apps/            # å¾®æœåŠ¡åº”ç”¨
â”‚   â”œâ”€â”€ libs/            # å…±äº«åº“
â”‚   â””â”€â”€ docker-compose.yml # Dockeré…ç½®
â”œâ”€â”€ docs/                  # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ ios/                   # iOSåŸç”Ÿä»£ç 
â”œâ”€â”€ android/              # AndroidåŸç”Ÿä»£ç 
â””â”€â”€ package.json          # é¡¹ç›®é…ç½®
```

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡é…ç½®

åˆ›å»º `.env` æ–‡ä»¶ï¼š
```env
# APIé…ç½®
API_BASE_URL=http://localhost:3000
WS_URL=ws://localhost:3000

# æ•°æ®åº“é…ç½®
MYSQL_HOST=localhost
MYSQL_PORT=3306
MONGODB_URI=mongodb://localhost:27017

# Redisé…ç½®
REDIS_HOST=localhost
REDIS_PORT=6379

# JWTé…ç½®
JWT_SECRET=your-secret-key
JWT_EXPIRES_IN=7d
```

## ğŸš¢ éƒ¨ç½²æŒ‡å—

### Dockeréƒ¨ç½²

```bash
# æ„å»ºé•œåƒ
docker-compose build

# å¯åŠ¨æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# åœæ­¢æœåŠ¡
docker-compose down
```

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

1. **æœåŠ¡å™¨è¦æ±‚**
   - CPU: 4æ ¸+
   - å†…å­˜: 8GB+
   - å­˜å‚¨: 50GB+
   - OS: Ubuntu 20.04 LTS

2. **éƒ¨ç½²æ­¥éª¤**
   ```bash
   # 1. æ›´æ–°ç³»ç»Ÿ
   sudo apt update && sudo apt upgrade

   # 2. å®‰è£…Docker
   curl -fsSL https://get.docker.com | sh

   # 3. éƒ¨ç½²åº”ç”¨
   docker-compose -f docker-compose.prod.yml up -d

   # 4. é…ç½®Nginx
   sudo nginx -s reload
   ```

## ğŸ§ª æµ‹è¯•

```bash
# è¿è¡Œå•å…ƒæµ‹è¯•
npm test

# è¿è¡Œç«¯åˆ°ç«¯æµ‹è¯•
npm run test:e2e

# ç”Ÿæˆæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
npm run test:cov
```

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

- åº”ç”¨å¯åŠ¨æ—¶é—´: < 3ç§’
- APIå“åº”æ—¶é—´: < 100ms
- WebSocketå»¶è¿Ÿ: < 50ms
- å†…å­˜å ç”¨: < 200MB
- å´©æºƒç‡: < 0.1%

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼è¯·æŸ¥çœ‹ [CONTRIBUTING.md](./CONTRIBUTING.md) äº†è§£å¦‚ä½•å‚ä¸é¡¹ç›®ã€‚

### æäº¤è§„èŒƒ
```bash
feat: æ–°åŠŸèƒ½
fix: ä¿®å¤bug
docs: æ–‡æ¡£æ›´æ–°
style: ä»£ç æ ¼å¼
refactor: é‡æ„
test: æµ‹è¯•
chore: æ„å»º/è¾…åŠ©å·¥å…·
```

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](./LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®ï¼š
- [React Native](https://reactnative.dev/)
- [NestJS](https://nestjs.com/)
- [TypeScript](https://www.typescriptlang.org/)
- [Docker](https://www.docker.com/)

## ğŸ“® è”ç³»æˆ‘ä»¬

- ğŸ“§ Email: contact@smartdevice.com
- ğŸŒ Website: https://smartdevice.com
- ğŸ“± Discord: [åŠ å…¥æˆ‘ä»¬çš„ç¤¾åŒº](https://discord.gg/smartdevice)

---

<div align="center">
Made with â¤ï¸ by Smart Device Team
</div>